{"version":3,"sources":["@traceur/generated/TemplateParser/5","src/core/compiler/pipeline/element_binder_builder.js","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/9","src/core/compiler/pipeline/@traceur/generated/TemplateParser/24","src/core/compiler/pipeline/@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/12","@traceur/generated/TemplateParser/11","src/core/compiler/pipeline/@traceur/generated/TemplateParser/37"],"names":[],"mappings":"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","file":"src/core/compiler/pipeline/element_binder_builder.js","sourceRoot":"/Users/deast/Angular/quickstart/node_modules/angular2/es6/prod/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {int, isPresent, isBlank, Type, BaseException, StringWrapper, RegExpWrapper, isString, stringify} from 'angular2/src/facade/lang';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ListWrapper, List, MapWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\n\nimport {reflector} from 'angular2/src/reflection/reflection';\n\nimport {Parser, ProtoChangeDetector} from 'angular2/change_detection';\n\nimport {DirectiveMetadata} from '../directive_metadata';\n\nimport {CompileStep} from './compile_step';\nimport {CompileElement} from './compile_element';\nimport {CompileControl} from './compile_control';\nimport {dashCaseToCamelCase, camelCaseToDashCase} from './util';\n\nvar DOT_REGEXP = RegExpWrapper.create('\\\\.');\n\nconst ATTRIBUTE_PREFIX = 'attr.';\nvar attributeSettersCache = StringMapWrapper.create();\n\nfunction _isValidAttributeValue(attrName:string, value: any) {\n  if (attrName == \"role\") {\n    return isString(value);\n  } else {\n    return isPresent(value);\n  }\n}\n\nfunction attributeSetterFactory(attrName:string) {\n  var setterFn = StringMapWrapper.get(attributeSettersCache, attrName);\n  var dashCasedAttributeName;\n\n  if (isBlank(setterFn)) {\n    dashCasedAttributeName = camelCaseToDashCase(attrName);\n    setterFn = function(element, value) {\n      if (_isValidAttributeValue(dashCasedAttributeName, value)) {\n        DOM.setAttribute(element, dashCasedAttributeName, stringify(value));\n      } else {\n        DOM.removeAttribute(element, dashCasedAttributeName);\n        if (isPresent(value)) {\n          throw new BaseException(\"Invalid \" + dashCasedAttributeName + \" attribute, only string values are allowed, got '\" + stringify(value) + \"'\");\n        }\n      }\n    };\n    StringMapWrapper.set(attributeSettersCache, attrName, setterFn);\n  }\n\n  return setterFn;\n}\n\nconst CLASS_PREFIX = 'class.';\nvar classSettersCache = StringMapWrapper.create();\n\nfunction classSetterFactory(className:string) {\n  var setterFn = StringMapWrapper.get(classSettersCache, className);\n\n  if (isBlank(setterFn)) {\n    setterFn = function(element, value) {\n      if (value) {\n        DOM.addClass(element, className);\n      } else {\n        DOM.removeClass(element, className);\n      }\n    };\n    StringMapWrapper.set(classSettersCache, className, setterFn);\n  }\n\n  return setterFn;\n}\n\nconst STYLE_PREFIX = 'style.';\nvar styleSettersCache = StringMapWrapper.create();\n\nfunction styleSetterFactory(styleName:string, stylesuffix:string) {\n  var cacheKey = styleName + stylesuffix;\n  var setterFn = StringMapWrapper.get(styleSettersCache, cacheKey);\n  var dashCasedStyleName;\n\n  if (isBlank(setterFn)) {\n    dashCasedStyleName = camelCaseToDashCase(styleName);\n    setterFn = function(element, value) {\n      var valAsStr;\n      if (isPresent(value)) {\n        valAsStr = stringify(value);\n        DOM.setStyle(element, dashCasedStyleName, valAsStr + stylesuffix);\n      } else {\n        DOM.removeStyle(element, dashCasedStyleName);\n      }\n    };\n    StringMapWrapper.set(classSettersCache, cacheKey, setterFn);\n  }\n\n  return setterFn;\n}\n\n\n/**\n * Creates the ElementBinders and adds watches to the\n * ProtoChangeDetector.\n *\n * Fills:\n * - CompileElement#inheritedElementBinder\n *\n * Reads:\n * - (in parent) CompileElement#inheritedElementBinder\n * - CompileElement#hasBindings\n * - CompileElement#inheritedProtoView\n * - CompileElement#inheritedProtoElementInjector\n * - CompileElement#textNodeBindings\n * - CompileElement#propertyBindings\n * - CompileElement#eventBindings\n * - CompileElement#decoratorDirectives\n * - CompileElement#componentDirective\n * - CompileElement#viewportDirective\n *\n * Note: This actually only needs the CompileElements with the flags\n * `hasBindings` and `isViewRoot`,\n * and only needs the actual HTMLElement for the ones\n * with the flag `isViewRoot`.\n */\nexport class ElementBinderBuilder extends CompileStep {\n  _parser:Parser;\n  constructor(parser:Parser) {\n    super();\n    this._parser = parser;\n  }\n\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    var elementBinder = null;\n    var parentElementBinder = null;\n    var distanceToParentBinder = this._getDistanceToParentBinder(parent, current);\n    if (isPresent(parent)) {\n      parentElementBinder = parent.inheritedElementBinder;\n    }\n    if (current.hasBindings) {\n      var protoView = current.inheritedProtoView;\n      var protoInjectorWasBuilt = isBlank(parent) ? true :\n          current.inheritedProtoElementInjector !== parent.inheritedProtoElementInjector;\n\n      var currentProtoElementInjector = protoInjectorWasBuilt ?\n          current.inheritedProtoElementInjector : null;\n\n      elementBinder = protoView.bindElement(parentElementBinder, distanceToParentBinder,\n          currentProtoElementInjector, current.componentDirective, current.viewportDirective);\n      current.distanceToParentBinder = 0;\n\n      if (isPresent(current.textNodeBindings)) {\n        this._bindTextNodes(protoView, current);\n      }\n      if (isPresent(current.propertyBindings)) {\n        this._bindElementProperties(protoView, current);\n      }\n      if (isPresent(current.eventBindings)) {\n        this._bindEvents(protoView, current);\n      }\n      if (isPresent(current.contentTagSelector)) {\n        elementBinder.contentTagSelector = current.contentTagSelector;\n      }\n      var directives = current.getAllDirectives();\n      this._bindDirectiveProperties(directives, current);\n      this._bindDirectiveEvents(directives, current);\n    } else if (isPresent(parent)) {\n      elementBinder = parentElementBinder;\n      current.distanceToParentBinder = distanceToParentBinder;\n    }\n    current.inheritedElementBinder = elementBinder;\n  }\n\n  _getDistanceToParentBinder(parent, current) {\n    return isPresent(parent) ? parent.distanceToParentBinder + 1 : 0;\n  }\n\n  _bindTextNodes(protoView, compileElement) {\n    MapWrapper.forEach(compileElement.textNodeBindings, (expression, indexInParent) => {\n      protoView.bindTextNode(indexInParent, expression);\n    });\n  }\n\n  _bindElementProperties(protoView, compileElement) {\n    MapWrapper.forEach(compileElement.propertyBindings, (expression, property) => {\n      var setterFn, styleParts, styleSuffix;\n\n      if (StringWrapper.startsWith(property, ATTRIBUTE_PREFIX)) {\n        setterFn = attributeSetterFactory(StringWrapper.substring(property, ATTRIBUTE_PREFIX.length));\n      } else if (StringWrapper.startsWith(property, CLASS_PREFIX)) {\n        setterFn = classSetterFactory(StringWrapper.substring(property, CLASS_PREFIX.length));\n      } else if (StringWrapper.startsWith(property, STYLE_PREFIX)) {\n        styleParts = StringWrapper.split(property, DOT_REGEXP);\n        styleSuffix = styleParts.length > 2 ? ListWrapper.get(styleParts, 2) : '';\n        setterFn = styleSetterFactory(ListWrapper.get(styleParts, 1), styleSuffix);\n      } else if (StringWrapper.equals(property, 'innerHtml')) {\n        setterFn = (element, value) => DOM.setInnerHTML(element, value);\n      } else {\n        property = this._resolvePropertyName(property);\n        var propertySetterFn = reflector.setter(property);\n        setterFn = function(receiver, value) {\n          if (DOM.hasProperty(receiver, property)) {\n            return propertySetterFn(receiver, value);\n          }\n        }\n      }\n\n      protoView.bindElementProperty(expression.ast, property, setterFn);\n    });\n  }\n\n  _bindEvents(protoView, compileElement) {\n    MapWrapper.forEach(compileElement.eventBindings, (expression, eventName) => {\n      protoView.bindEvent(eventName,  expression);\n    });\n  }\n\n  _bindDirectiveEvents(directives: List<DirectiveMetadata>, compileElement: CompileElement) {\n    for (var directiveIndex = 0; directiveIndex < directives.length; directiveIndex++) {\n      var directive = directives[directiveIndex];\n      var annotation = directive.annotation;\n      if (isBlank(annotation.events)) continue;\n      var protoView = compileElement.inheritedProtoView;\n      StringMapWrapper.forEach(annotation.events, (action, eventName) => {\n        var expression = this._parser.parseAction(action, compileElement.elementDescription);\n        protoView.bindEvent(eventName, expression, directiveIndex);\n      });\n    }\n  }\n\n  _bindDirectiveProperties(directives: List<DirectiveMetadata>,\n                           compileElement: CompileElement) {\n    var protoView = compileElement.inheritedProtoView;\n\n    for (var directiveIndex = 0; directiveIndex < directives.length; directiveIndex++) {\n      var directive = ListWrapper.get(directives, directiveIndex);\n      var annotation = directive.annotation;\n      if (isBlank(annotation.bind)) continue;\n      StringMapWrapper.forEach(annotation.bind, (bindConfig, dirProp) => {\n        var pipes = this._splitBindConfig(bindConfig);\n        var elProp = ListWrapper.removeAt(pipes, 0);\n\n        var bindingAst = isPresent(compileElement.propertyBindings) ?\n          MapWrapper.get(compileElement.propertyBindings, dashCaseToCamelCase(elProp)) :\n            null;\n\n        if (isBlank(bindingAst)) {\n          var attributeValue = MapWrapper.get(compileElement.attrs(), elProp);\n          if (isPresent(attributeValue)) {\n            bindingAst = this._parser.wrapLiteralPrimitive(attributeValue, compileElement.elementDescription);\n          }\n        }\n\n        // Bindings are optional, so this binding only needs to be set up if an expression is given.\n        if (isPresent(bindingAst)) {\n          var fullExpAstWithBindPipes = this._parser.addPipes(bindingAst, pipes);\n          protoView.bindDirectiveProperty(\n            directiveIndex,\n            fullExpAstWithBindPipes,\n            dirProp,\n            reflector.setter(dashCaseToCamelCase(dirProp))\n          );\n        }\n      });\n    }\n  }\n\n  _splitBindConfig(bindConfig:string) {\n    return ListWrapper.map(bindConfig.split('|'), (s) => s.trim());\n  }\n\n  _resolvePropertyName(attrName:string) {\n    var mappedPropName = StringMapWrapper.get(DOM.attrToPropMap, attrName);\n    return isPresent(mappedPropName) ? mappedPropName : attrName;\n  }\n}\n","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.type.$__placeholder__0)","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","assert.genericType($__placeholder__0)"]}